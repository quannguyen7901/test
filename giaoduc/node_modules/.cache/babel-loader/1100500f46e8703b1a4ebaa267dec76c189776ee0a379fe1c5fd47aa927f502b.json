{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createBlock as _createBlock, createTextVNode as _createTextVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"content__item\"\n};\nconst _hoisted_2 = {\n  class: \"content__item\"\n};\nconst _hoisted_3 = {\n  class: \"content__item--left\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"popup\",\n  style: {\n    \"width\": \"360px\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-triangle popup__triangle\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"popup__content\"\n};\nconst _hoisted_7 = {\n  class: \"popup__input\"\n};\nconst _hoisted_8 = {\n  class: \"popup__item\"\n};\nconst _hoisted_9 = {\n  class: \"popup__item\"\n};\nconst _hoisted_10 = {\n  class: \"popup__item\"\n};\nconst _hoisted_11 = {\n  class: \"popup__item\",\n  style: {\n    \"margin-bottom\": \"10px\"\n  }\n};\nconst _hoisted_12 = {\n  class: \"content__item--right\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"content__function\"\n};\nexport function render(_ctx, _cache) {\n  const _component_MisaTextBox = _resolveComponent(\"MisaTextBox\");\n  const _component_MisaButton = _resolveComponent(\"MisaButton\");\n  const _component_MisaFilterBoxHeader = _resolveComponent(\"MisaFilterBoxHeader\");\n  const _component_MisaListbox = _resolveComponent(\"MisaListbox\");\n  const _component_MisaFilterBoxButton = _resolveComponent(\"MisaFilterBoxButton\");\n  const _component_OnClickOutside = _resolveComponent(\"OnClickOutside\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h1\", null, _toDisplayString(_ctx.title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_createVNode(_component_MisaTextBox, {\n    onSearch: _ctx.search,\n    hasicon: \"true\",\n    label: \"mã hoặc tên danh hiệu...\"\n  }, null, 8 /* PROPS */, [\"onSearch\"])]), _createVNode(_component_MisaButton, {\n    text: _ctx.filter,\n    styles: \"button--white button__filter\",\n    hasicon: \"true\",\n    icon: \"fa-light fa-filter\",\n    onClick: _ctx.filterOpen\n  }, null, 8 /* PROPS */, [\"text\", \"onClick\"])]), _createVNode(_component_OnClickOutside, {\n    id: \"popup__filter\",\n    onTrigger: _cache[0] || (_cache[0] = () => this.filteropen = false)\n  }, {\n    default: _withCtx(() => [_ctx.filteropen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_hoisted_5, _createVNode(_component_MisaFilterBoxHeader, {\n      title: _ctx.filterfrom\n    }, null, 8 /* PROPS */, [\"title\"]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_MisaListbox, {\n      datas: _ctx.data,\n      label: _ctx.object\n    }, null, 8 /* PROPS */, [\"datas\", \"label\"])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_MisaListbox, {\n      datas: _ctx.cap,\n      label: _ctx.level\n    }, null, 8 /* PROPS */, [\"datas\", \"label\"])]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_MisaListbox, {\n      datas: _ctx.loai,\n      label: _ctx.type\n    }, null, 8 /* PROPS */, [\"datas\", \"label\"])]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_MisaListbox, {\n      datas: _ctx.tt,\n      label: _ctx.status\n    }, null, 8 /* PROPS */, [\"datas\", \"label\"])])])]), _createVNode(_component_MisaFilterBoxButton, {\n      onClosefilter: _ctx.filterClose\n    }, null, 8 /* PROPS */, [\"onClosefilter\"])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_12, [!_ctx.hasselect ? (_openBlock(), _createBlock(_component_MisaButton, {\n    key: 0,\n    text: _ctx.add,\n    styles: \"button--normal\",\n    hasicon: \"true\",\n    icon: \"fa-regular fa-plus\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.btnAddOnClick())\n  }, null, 8 /* PROPS */, [\"text\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"label\", null, [_createTextVNode(\"Đã chọn \"), _createElementVNode(\"span\", null, _toDisplayString(_ctx.getLength), 1 /* TEXT */)]), _createElementVNode(\"a\", {\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.$store.dispatch('clearSelected'))\n  }, \"Bỏ chọn\"), _createVNode(_component_MisaButton, {\n    onClick: _cache[3] || (_cache[3] = $event => _ctx.setStatus(1)),\n    text: _ctx.$resource.VN.TextFunction.Use,\n    styles: \"button--link\"\n  }, null, 8 /* PROPS */, [\"text\"]), _createVNode(_component_MisaButton, {\n    onClick: _cache[4] || (_cache[4] = $event => _ctx.setStatus(0)),\n    text: _ctx.$resource.VN.TextFunction.UnUse,\n    styles: \"button--white\"\n  }, null, 8 /* PROPS */, [\"text\"]), _createVNode(_component_MisaButton, {\n    text: _ctx.$resource.VN.TextFunction.Delete,\n    styles: \"button--red\"\n  }, null, 8 /* PROPS */, [\"text\"])]))])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_hoisted_1","_toDisplayString","_ctx","title","_hoisted_2","_hoisted_3","_createVNode","_component_MisaTextBox","onSearch","search","hasicon","label","_component_MisaButton","text","filter","styles","icon","onClick","filterOpen","_component_OnClickOutside","id","onTrigger","_cache","filteropen","_createElementBlock","_hoisted_4","_hoisted_5","_component_MisaFilterBoxHeader","filterfrom","_hoisted_6","_hoisted_7","_hoisted_8","_component_MisaListbox","datas","data","object","_hoisted_9","cap","level","_hoisted_10","loai","type","_hoisted_11","tt","status","_component_MisaFilterBoxButton","onClosefilter","filterClose","_hoisted_12","hasselect","_createBlock","add","$event","btnAddOnClick","_hoisted_13","getLength","$store","dispatch","setStatus","$resource","VN","TextFunction","Use","UnUse","Delete"],"sources":["D:\\Code\\Misa\\vue Web_3\\giaoduc\\src\\views\\emulationtitle\\EmulationTitleHeader.vue"],"sourcesContent":["<template>\r\n    <div class=\"content__item\">\r\n        <h1>{{ title }}</h1>\r\n    </div>\r\n    <div class=\"content__item\">\r\n        <div class=\"content__item--left\">\r\n            <div>\r\n                <MisaTextBox @search=\"search\" hasicon=\"true\" label=\"mã hoặc tên danh hiệu...\"></MisaTextBox>\r\n            </div>\r\n            <MisaButton :text=\"filter\" styles=\"button--white button__filter\" hasicon=\"true\" icon=\"fa-light fa-filter\"\r\n                @click=\"filterOpen\"></MisaButton>\r\n        </div>\r\n        <OnClickOutside id=\"popup__filter\" @trigger=\"() => this.filteropen = false\">\r\n            <div v-if=\"filteropen\" class=\"popup\" style=\"width:360px\">\r\n                <i class=\"fa-solid fa-triangle popup__triangle\"></i>\r\n                <MisaFilterBoxHeader :title=\"filterfrom\"></MisaFilterBoxHeader>\r\n                <div class=\"popup__content\">\r\n                    <div class=\"popup__input\">\r\n                        <div class=\"popup__item\">\r\n                            <MisaListbox :datas=\"data\" :label=\"object\"></MisaListbox>\r\n                        </div>\r\n                        <div class=\"popup__item\">\r\n                            <MisaListbox :datas=\"cap\" :label=\"level\"></MisaListbox>\r\n                        </div>\r\n                        <div class=\"popup__item\">\r\n                            <MisaListbox :datas=\"loai\" :label=\"type\"></MisaListbox>\r\n                        </div>\r\n                        <div class=\"popup__item\" style=\"margin-bottom: 10px;\">\r\n                            <MisaListbox :datas=\"tt\" :label=\"status\"></MisaListbox>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <MisaFilterBoxButton @closefilter=\"filterClose\"></MisaFilterBoxButton>\r\n            </div>\r\n        </OnClickOutside>\r\n        <div class=\"content__item--right\">\r\n            <MisaButton v-if=\"!hasselect\" :text=\"add\" styles=\"button--normal\" hasicon=\"true\" icon=\"fa-regular fa-plus\"\r\n                @click=\"btnAddOnClick()\"></MisaButton>\r\n            <div class=\"content__function\" v-else>\r\n                <label>Đã chọn <span>{{ getLength }}</span></label>\r\n                <a @click=\"$store.dispatch('clearSelected')\">Bỏ chọn</a>\r\n                <MisaButton @click=\"setStatus(1)\" :text=\"$resource.VN.TextFunction.Use\" styles=\"button--link\"></MisaButton>\r\n                <MisaButton @click=\"setStatus(0)\" :text=\"$resource.VN.TextFunction.UnUse\" styles=\"button--white\">\r\n                </MisaButton>\r\n                <MisaButton :text=\"$resource.VN.TextFunction.Delete\" styles=\"button--red\"></MisaButton>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MisaTextBox from '@/components/MisaTextBox.vue';\r\nimport MisaFilterBoxHeader from '@/components/MisaFilterBox.vue/MisaFilterBoxHeader.vue';\r\nimport MisaFilterBoxButton from '@/components/MisaFilterBox.vue/MisaFilterBoxButton.vue';\r\nimport { OnClickOutside } from '@vueuse/components';\r\n\r\nexport default {\r\n    name: \"EmulationTitleHeader\",\r\n    data() {\r\n        return {\r\n            data: [\"Tất cả\", \"Cá nhân\", \"Tập thể\", \"Cá nhân, tập thể\"],\r\n            tt: [\"Tất cả\", \"Sử dụng\", \"Ngưng sử dụng\"],\r\n            cap: [\"Tất cả\", \"Cấp Nhà nước\", \"Cấp Tỉnh/tương đương\", \"Cấp Huyện/tương đương\", \"Cấp Xã/tương đương\"],\r\n            loai: [\"Tất cả\", \"Thường xuyên\", \"Theo đợt\"],\r\n            filteropen: false,\r\n            add: this.$resource.VN.TextButton.Add,\r\n            filter: this.$resource.VN.TextButton.Filter,\r\n            title: this.$resource.VN.TextTitle.Emulation,\r\n            filterfrom: this.$resource.VN.TextFrom.Filter,\r\n            object: this.$resource.VN.TextLabel.Object,\r\n            type: this.$resource.VN.TextLabel.Type,\r\n            level: this.$resource.VN.TextLabel.Level,\r\n            status: this.$resource.VN.TextLabel.Status,\r\n            hasselect: false,\r\n            baseapi: this.$baseapi,\r\n        }\r\n    },\r\n    components: {\r\n        MisaTextBox, MisaFilterBoxButton, MisaFilterBoxHeader, OnClickOutside\r\n    },\r\n    created() {\r\n        //Hứng sự kiện từ bên ngoài\r\n        this.$tnemtter.on(\"closefilter\", this.filterClose)\r\n        this.$tnemtter.on(\"addOnClick\", this.btnAddOnClick)\r\n    },\r\n    beforeUnmount() {\r\n        //Bỏ hứng sự kiện\r\n        this.$tnemtter.off(\"addOnClick\")\r\n        this.$tnemtter.off(\"closefilter\")\r\n    },\r\n    methods: {\r\n        /**\r\n         * Set trạng thái cho nhiều bản ghi\r\n         * @param {trạng thái} i \r\n         * auther: NgQuan\r\n         * created:05/2023\r\n         */\r\n        setStatus(i) {\r\n            //Api thay đổi trạng thái của nhiều bản ghi\r\n            this.$axios.put(`${this.baseapi}Emulatitles/Status?status=${i}`, this.$store.state.selected)\r\n                //Api chạy OK\r\n                .then(() => {\r\n                    //Clear stae vuex\r\n                    this.$store.dispatch('clearSelected')\r\n                    //Hiện thông báo\r\n                    this.$tnemtter.emit(\"Noti\", this.$resource.VN.Notification.Sucsess, this.$resource.VN.SucsessText.SucsessUpdate)\r\n                    //Reload lại trang\r\n                    this.$tnemtter.emit(\"reload\")\r\n                })\r\n                //Api chạy ko OK\r\n                .catch(() => {\r\n                    //Hiện thông báo\r\n                    this.$tnemtter.emit(\"Noti\", this.$resource.VN.Notification.Error, this.$resource.VN.ErrorText.Reload)\r\n                })\r\n        },\r\n        debounce(fn, ms, event = null) {\r\n            let timer;\r\n\r\n            return (...arguments) => {\r\n                clearTimeout(timer);\r\n\r\n                timer = setTimeout(() => {\r\n                    fn.apply(this, arguments);\r\n\r\n                    console.log(\r\n                        \"Call debounce after \" + ms + \"ms\",\r\n                        \",typing total \" + timer + \"ms\"\r\n                    );\r\n                }, ms);\r\n            };\r\n        },\r\n        /**\r\n         * Tìm kiếm dữ liệu\r\n         * Auther: NgQuan\r\n         * Created:05/2023 \r\n         */\r\n        search(i) {\r\n            this.$tnemtter.emit('search', i)\r\n        },\r\n        /**\r\n         * Hiện from thêm danh hiệu\r\n         * Auther: NgQuan\r\n         * Created:05/2023 \r\n         */\r\n        btnAddOnClick() {\r\n            this.$router.push(\"/emulatitle/created\");\r\n        },\r\n        /**\r\n         * Hiện tùy chọn lọc dữ liệu\r\n         * Auther: NgQuan\r\n         * Created:05/2023 \r\n         */\r\n        filterOpen() {\r\n            this.filteropen = true\r\n        },\r\n        /**\r\n        * Ẩn tùy chọn lọc dữ liệu\r\n        * Auther: NgQuan\r\n        * Created:05/2023 \r\n        */\r\n        filterClose() {\r\n            //Nếu tùy chọn đang đóng\r\n            if (!this.filteropen == true) {\r\n                //Mở tùy chọn\r\n                this.filteropen = true\r\n            }\r\n            //Nếu tùy chọn đang mở \r\n            else {\r\n                //Đóng tùy chọn\r\n                this.filteropen = false\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        //Quan sát chiều dài của state\r\n        getLength(e) {\r\n            //Nếu state !=null\r\n            if (e > 0) {\r\n                //Hiện tùy chọn\r\n                this.hasselect = true\r\n            }\r\n            //Nếu state =null\r\n            else {\r\n                //Ản tùy chọn\r\n                this.hasselect = false\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        //Lấy chiều dài của state\r\n        getLength() {\r\n            return this.$store.getters.getLength\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.content__function {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n}\r\n\r\n.content__function a {\r\n    cursor: pointer;\r\n    margin-left: 12px;\r\n    margin-right: 12px;\r\n    color: var(--color-primary);\r\n}\r\n\r\n.content__function a:hover {\r\n    text-decoration: underline;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}