{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport MisaTextBox from '@/components/MisaTextBox.vue';\nimport MisaFilterBoxHeader from '@/components/MisaFilterBox.vue/MisaFilterBoxHeader.vue';\nimport MisaFilterBoxButton from '@/components/MisaFilterBox.vue/MisaFilterBoxButton.vue';\nimport { OnClickOutside } from '@vueuse/components';\nexport default {\n  name: \"EmulationTitleHeader\",\n  data() {\n    return {\n      data: [\"Tất cả\", \"Cá nhân\", \"Tập thể\", \"Cá nhân, tập thể\"],\n      tt: [\"Tất cả\", \"Sử dụng\", \"Ngưng sử dụng\"],\n      cap: [\"Tất cả\", \"Cấp Nhà nước\", \"Cấp Tỉnh/tương đương\", \"Cấp Huyện/tương đương\", \"Cấp Xã/tương đương\"],\n      loai: [\"Tất cả\", \"Thường xuyên\", \"Theo đợt\"],\n      filteropen: false,\n      add: this.$resource.VN.TextButton.Add,\n      filter: this.$resource.VN.TextButton.Filter,\n      title: this.$resource.VN.TextTitle.Emulation,\n      filterfrom: this.$resource.VN.TextFrom.Filter,\n      object: this.$resource.VN.TextLabel.Object,\n      type: this.$resource.VN.TextLabel.Type,\n      level: this.$resource.VN.TextLabel.Level,\n      status: this.$resource.VN.TextLabel.Status,\n      hasselect: false,\n      baseapi: this.$baseapi\n    };\n  },\n  components: {\n    MisaTextBox,\n    MisaFilterBoxButton,\n    MisaFilterBoxHeader,\n    OnClickOutside\n  },\n  created() {\n    //Hứng sự kiện từ bên ngoài\n    this.$tnemtter.on(\"closefilter\", this.filterClose);\n    this.$tnemtter.on(\"addOnClick\", this.btnAddOnClick);\n  },\n  beforeUnmount() {\n    //Bỏ hứng sự kiện\n    this.$tnemtter.off(\"addOnClick\");\n    this.$tnemtter.off(\"closefilter\");\n  },\n  methods: {\n    /**\r\n     * Set trạng thái cho nhiều bản ghi\r\n     * @param {trạng thái} i \r\n     * auther: NgQuan\r\n     * created:05/2023\r\n     */\n    setStatus(i) {\n      //Api thay đổi trạng thái của nhiều bản ghi\n      this.$axios.put(`${this.baseapi}Emulatitles/Status?status=${i}`, this.$store.state.selected)\n      //Api chạy OK\n      .then(() => {\n        //Clear stae vuex\n        this.$store.dispatch('clearSelected');\n        //Hiện thông báo\n        this.$tnemtter.emit(\"Noti\", this.$resource.VN.Notification.Sucsess, this.$resource.VN.SucsessText.SucsessUpdate);\n        //Reload lại trang\n        this.$tnemtter.emit(\"reload\");\n      })\n      //Api chạy ko OK\n      .catch(() => {\n        //Hiện thông báo\n        this.$tnemtter.emit(\"Noti\", this.$resource.VN.Notification.Error, this.$resource.VN.ErrorText.Reload);\n      });\n    },\n    debounce(fn, ms) {\n      let timer;\n      return () => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n          fn.apply(this, arguments);\n        }, ms);\n      };\n    },\n    /**\r\n     * Tìm kiếm dữ liệu\r\n     * Auther: NgQuan\r\n     * Created:05/2023 \r\n     */\n    search(i) {\n      this.$tnemtter.emit('search', i);\n    },\n    /**\r\n     * Hiện from thêm danh hiệu\r\n     * Auther: NgQuan\r\n     * Created:05/2023 \r\n     */\n    btnAddOnClick() {\n      this.$router.push(\"/emulatitle/created\");\n    },\n    /**\r\n     * Hiện tùy chọn lọc dữ liệu\r\n     * Auther: NgQuan\r\n     * Created:05/2023 \r\n     */\n    filterOpen() {\n      this.filteropen = true;\n    },\n    /**\r\n    * Ẩn tùy chọn lọc dữ liệu\r\n    * Auther: NgQuan\r\n    * Created:05/2023 \r\n    */\n    filterClose() {\n      //Nếu tùy chọn đang đóng\n      if (!this.filteropen == true) {\n        //Mở tùy chọn\n        this.filteropen = true;\n      }\n      //Nếu tùy chọn đang mở \n      else {\n        //Đóng tùy chọn\n        this.filteropen = false;\n      }\n    }\n  },\n  watch: {\n    //Quan sát chiều dài của state\n    getLength(e) {\n      //Nếu state !=null\n      if (e > 0) {\n        //Hiện tùy chọn\n        this.hasselect = true;\n      }\n      //Nếu state =null\n      else {\n        //Ản tùy chọn\n        this.hasselect = false;\n      }\n    }\n  },\n  computed: {\n    //Lấy chiều dài của state\n    getLength() {\n      return this.$store.getters.getLength;\n    }\n  }\n};","map":{"version":3,"names":["MisaTextBox","MisaFilterBoxHeader","MisaFilterBoxButton","OnClickOutside","name","data","tt","cap","loai","filteropen","add","$resource","VN","TextButton","Add","filter","Filter","title","TextTitle","Emulation","filterfrom","TextFrom","object","TextLabel","Object","type","Type","level","Level","status","Status","hasselect","baseapi","$baseapi","components","created","$tnemtter","on","filterClose","btnAddOnClick","beforeUnmount","off","methods","setStatus","i","$axios","put","$store","state","selected","then","dispatch","emit","Notification","Sucsess","SucsessText","SucsessUpdate","catch","Error","ErrorText","Reload","debounce","fn","ms","timer","clearTimeout","setTimeout","apply","arguments","search","$router","push","filterOpen","watch","getLength","e","computed","getters"],"sources":["D:\\Code\\Misa\\vue Web_3\\giaoduc\\src\\views\\emulationtitle\\EmulationTitleHeader.vue"],"sourcesContent":["<template>\r\n    <div class=\"content__item\">\r\n        <h1>{{ title }}</h1>\r\n    </div>\r\n    <div class=\"content__item\">\r\n        <div class=\"content__item--left\">\r\n            <div>\r\n                <MisaTextBox @search=\"search\" hasicon=\"true\" label=\"mã hoặc tên danh hiệu...\"></MisaTextBox>\r\n            </div>\r\n            <MisaButton :text=\"filter\" styles=\"button--white button__filter\" hasicon=\"true\" icon=\"fa-light fa-filter\"\r\n                @click=\"filterOpen\"></MisaButton>\r\n        </div>\r\n        <OnClickOutside id=\"popup__filter\" @trigger=\"() => this.filteropen = false\">\r\n            <div v-if=\"filteropen\" class=\"popup\" style=\"width:360px\">\r\n                <i class=\"fa-solid fa-triangle popup__triangle\"></i>\r\n                <MisaFilterBoxHeader :title=\"filterfrom\"></MisaFilterBoxHeader>\r\n                <div class=\"popup__content\">\r\n                    <div class=\"popup__input\">\r\n                        <div class=\"popup__item\">\r\n                            <MisaListbox :datas=\"data\" :label=\"object\"></MisaListbox>\r\n                        </div>\r\n                        <div class=\"popup__item\">\r\n                            <MisaListbox :datas=\"cap\" :label=\"level\"></MisaListbox>\r\n                        </div>\r\n                        <div class=\"popup__item\">\r\n                            <MisaListbox :datas=\"loai\" :label=\"type\"></MisaListbox>\r\n                        </div>\r\n                        <div class=\"popup__item\" style=\"margin-bottom: 10px;\">\r\n                            <MisaListbox :datas=\"tt\" :label=\"status\"></MisaListbox>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <MisaFilterBoxButton @closefilter=\"filterClose\"></MisaFilterBoxButton>\r\n            </div>\r\n        </OnClickOutside>\r\n        <div class=\"content__item--right\">\r\n            <MisaButton v-if=\"!hasselect\" :text=\"add\" styles=\"button--normal\" hasicon=\"true\" icon=\"fa-regular fa-plus\"\r\n                @click=\"btnAddOnClick()\"></MisaButton>\r\n            <div class=\"content__function\" v-else>\r\n                <label>Đã chọn <span>{{ getLength }}</span></label>\r\n                <a @click=\"$store.dispatch('clearSelected')\">Bỏ chọn</a>\r\n                <MisaButton @click=\"setStatus(1)\" :text=\"$resource.VN.TextFunction.Use\" styles=\"button--link\"></MisaButton>\r\n                <MisaButton @click=\"setStatus(0)\" :text=\"$resource.VN.TextFunction.UnUse\" styles=\"button--white\">\r\n                </MisaButton>\r\n                <MisaButton :text=\"$resource.VN.TextFunction.Delete\" styles=\"button--red\"></MisaButton>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MisaTextBox from '@/components/MisaTextBox.vue';\r\nimport MisaFilterBoxHeader from '@/components/MisaFilterBox.vue/MisaFilterBoxHeader.vue';\r\nimport MisaFilterBoxButton from '@/components/MisaFilterBox.vue/MisaFilterBoxButton.vue';\r\nimport { OnClickOutside } from '@vueuse/components';\r\n\r\nexport default {\r\n    name: \"EmulationTitleHeader\",\r\n    data() {\r\n        return {\r\n            data: [\"Tất cả\", \"Cá nhân\", \"Tập thể\", \"Cá nhân, tập thể\"],\r\n            tt: [\"Tất cả\", \"Sử dụng\", \"Ngưng sử dụng\"],\r\n            cap: [\"Tất cả\", \"Cấp Nhà nước\", \"Cấp Tỉnh/tương đương\", \"Cấp Huyện/tương đương\", \"Cấp Xã/tương đương\"],\r\n            loai: [\"Tất cả\", \"Thường xuyên\", \"Theo đợt\"],\r\n            filteropen: false,\r\n            add: this.$resource.VN.TextButton.Add,\r\n            filter: this.$resource.VN.TextButton.Filter,\r\n            title: this.$resource.VN.TextTitle.Emulation,\r\n            filterfrom: this.$resource.VN.TextFrom.Filter,\r\n            object: this.$resource.VN.TextLabel.Object,\r\n            type: this.$resource.VN.TextLabel.Type,\r\n            level: this.$resource.VN.TextLabel.Level,\r\n            status: this.$resource.VN.TextLabel.Status,\r\n            hasselect: false,\r\n            baseapi: this.$baseapi,\r\n        }\r\n    },\r\n    components: {\r\n        MisaTextBox, MisaFilterBoxButton, MisaFilterBoxHeader, OnClickOutside\r\n    },\r\n    created() {\r\n        //Hứng sự kiện từ bên ngoài\r\n        this.$tnemtter.on(\"closefilter\", this.filterClose)\r\n        this.$tnemtter.on(\"addOnClick\", this.btnAddOnClick)\r\n    },\r\n    beforeUnmount() {\r\n        //Bỏ hứng sự kiện\r\n        this.$tnemtter.off(\"addOnClick\")\r\n        this.$tnemtter.off(\"closefilter\")\r\n    },\r\n    methods: {\r\n        /**\r\n         * Set trạng thái cho nhiều bản ghi\r\n         * @param {trạng thái} i \r\n         * auther: NgQuan\r\n         * created:05/2023\r\n         */\r\n        setStatus(i) {\r\n            //Api thay đổi trạng thái của nhiều bản ghi\r\n            this.$axios.put(`${this.baseapi}Emulatitles/Status?status=${i}`, this.$store.state.selected)\r\n                //Api chạy OK\r\n                .then(() => {\r\n                    //Clear stae vuex\r\n                    this.$store.dispatch('clearSelected')\r\n                    //Hiện thông báo\r\n                    this.$tnemtter.emit(\"Noti\", this.$resource.VN.Notification.Sucsess, this.$resource.VN.SucsessText.SucsessUpdate)\r\n                    //Reload lại trang\r\n                    this.$tnemtter.emit(\"reload\")\r\n                })\r\n                //Api chạy ko OK\r\n                .catch(() => {\r\n                    //Hiện thông báo\r\n                    this.$tnemtter.emit(\"Noti\", this.$resource.VN.Notification.Error, this.$resource.VN.ErrorText.Reload)\r\n                })\r\n        },\r\n        debounce(fn, ms) {\r\n    let timer\r\n    \r\n    return () => {\r\n        clearTimeout(timer);\r\n        \r\n        timer = setTimeout(() => {\r\n            fn.apply(this, arguments);\r\n        }, ms)\r\n    }\r\n},\r\n        /**\r\n         * Tìm kiếm dữ liệu\r\n         * Auther: NgQuan\r\n         * Created:05/2023 \r\n         */\r\n        search(i) {\r\n            this.$tnemtter.emit('search', i)\r\n        },\r\n        /**\r\n         * Hiện from thêm danh hiệu\r\n         * Auther: NgQuan\r\n         * Created:05/2023 \r\n         */\r\n        btnAddOnClick() {\r\n            this.$router.push(\"/emulatitle/created\");\r\n        },\r\n        /**\r\n         * Hiện tùy chọn lọc dữ liệu\r\n         * Auther: NgQuan\r\n         * Created:05/2023 \r\n         */\r\n        filterOpen() {\r\n            this.filteropen = true\r\n        },\r\n        /**\r\n        * Ẩn tùy chọn lọc dữ liệu\r\n        * Auther: NgQuan\r\n        * Created:05/2023 \r\n        */\r\n        filterClose() {\r\n            //Nếu tùy chọn đang đóng\r\n            if (!this.filteropen == true) {\r\n                //Mở tùy chọn\r\n                this.filteropen = true\r\n            } \r\n            //Nếu tùy chọn đang mở \r\n            else {\r\n                //Đóng tùy chọn\r\n                this.filteropen = false\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        //Quan sát chiều dài của state\r\n        getLength(e) {\r\n            //Nếu state !=null\r\n            if (e > 0) {\r\n                //Hiện tùy chọn\r\n                this.hasselect = true\r\n            }\r\n            //Nếu state =null\r\n            else {\r\n                //Ản tùy chọn\r\n                this.hasselect = false\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        //Lấy chiều dài của state\r\n        getLength() {\r\n            return this.$store.getters.getLength\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.content__function {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n}\r\n\r\n.content__function a {\r\n    cursor: pointer;\r\n    margin-left: 12px;\r\n    margin-right: 12px;\r\n    color: var(--color-primary);\r\n}\r\n\r\n.content__function a:hover {\r\n    text-decoration: underline;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}